"use strict";(self["webpackChunkmymihua"]=self["webpackChunkmymihua"]||[]).push([[179],{9179:function(t,s,e){e.r(s),e.d(s,{default:function(){return y}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"business"},[s("div",{staticClass:"business-left"},[s("h3",[t._v("超级企业管理("+t._s(this.arr.length)+")")]),s("div",{staticClass:"business-left-input"},[s("el-input",{staticClass:"input-with-select",staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(s){t.input=s},expression:"input"}}),s("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.handleClick}}),s("el-dialog",{attrs:{title:"新增企业",visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(s){t.dialogVisible=s},close:t.resetForm}},[s("el-form",{ref:"dataForm",attrs:{model:t.form,"label-width":"80px",rules:t.rules},nativeOn:{submit:function(s){return s.preventDefault(),t.submitForm.apply(null,arguments)}}},[s("el-form-item",{attrs:{label:"企业名称",prop:"ename"}},[s("el-input",{model:{value:t.form.ename,callback:function(s){t.$set(t.form,"ename",s)},expression:"form.ename"}})],1),s("el-form-item",{attrs:{label:"ip域名",prop:"ipstr"}},[s("el-input",{model:{value:t.form.ipstr,callback:function(s){t.$set(t.form,"ipstr",s)},expression:"form.ipstr"}})],1),s("el-form-item",{attrs:{label:"超级管理员账号",prop:"adminname"}},[s("el-input",{model:{value:t.form.adminname,callback:function(s){t.$set(t.form,"adminname",s)},expression:"form.adminname"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"adminemil"}},[s("el-input",{model:{value:t.form.adminemil,callback:function(s){t.$set(t.form,"adminemil",s)},expression:"form.adminemil"}})],1),s("el-form-item",{attrs:{label:"最大坐席数",prop:"maxnum"}},[s("el-input",{model:{value:t.form.maxnum,callback:function(s){t.$set(t.form,"maxnum",s)},expression:"form.maxnum"}})],1),s("el-form-item",{attrs:{label:"最大登录并发总数",prop:"maxconcurrency"}},[s("el-input",{model:{value:t.form.maxconcurrency,callback:function(s){t.$set(t.form,"maxconcurrency",s)},expression:"form.maxconcurrency"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提交")]),s("el-button",{on:{click:t.resetForm}},[t._v("重置")])],1)],1)],1)],1),t._l(this.arr,(function(e,i){return s("el-menu",{key:i,staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeIndex,"background-color":"#ffffff","collapse-transition":!1},on:{select:function(s){return t.handleSelect(e.id)}}},[s("el-menu-item",[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("div",{staticStyle:{width:"10px",height:"10px","border-radius":"50%","background-color":"rgb(56, 216, 143)","margin-right":"5px"}}),t._v(" "+t._s(e.ename)+"("+t._s(e.num)+") ")])])],1)}))],2),s("div",{staticClass:"business-right"},[s("div",{staticStyle:{"margin-top":"30px","margin-left":"20px"}},[s("el-radio-group",{staticStyle:{"margin-bottom":"30px"},model:{value:t.tabPosition,callback:function(s){t.tabPosition=s},expression:"tabPosition"}},[s("el-radio-button",{attrs:{label:"top"},nativeOn:{change:function(s){return t.toggleBoxShow("top")}}},[t._v("超级企业管理")]),s("el-radio-button",{attrs:{label:" right"},nativeOn:{change:function(s){return t.toggleBoxShow("right")}}},[t._v("子企业管理")])],1)],1),t.boxshow?s("div",[s("div",{staticClass:"business-right-top"},[s("div",{staticClass:"business-right-center"},[s("div",{staticClass:"sixbox",staticStyle:{"text-align":"center"}},[t._m(0),s("div",[s("strong",[t._v(t._s(this.bussiness.num))]),s("br"),s("span",[t._v("子企业个数")])])]),s("div",{staticClass:"sixbox",staticStyle:{"text-align":"center"}},[t._m(1),s("div",[s("strong",[t._v(t._s(this.bussiness.maxnum))]),s("br"),s("span",[t._v("最大坐席数")])])]),s("div",{staticClass:"sixbox",staticStyle:{"text-align":"center"}},[t._m(2),s("div",[s("strong",[t._v(t._s(this.bussiness.num))]),s("br"),s("span",[t._v("实际坐席总数")])])]),s("div",{staticClass:"sixbox",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"el-icon-folder-delete",staticStyle:{"font-size":"35PX","background-color":"rgb(255,145,113)","border-radius":"50%",padding:"10px",color:"rgb(255, 255, 255)"}}),s("div",{staticStyle:{"text-align":"center"}},[s("strong",[t._v(t._s(this.bussiness.stopnum))]),s("br"),s("span",[t._v("停用坐席总数")])])]),s("div",{staticClass:"sixbox",staticStyle:{"text-align":"center"}},[t._m(3),s("div",[s("strong",[t._v(t._s(this.bussiness.maxconcurrency))]),s("br"),s("span",[t._v("最大登录并发总数")])])]),s("div",{staticClass:"sixbox",staticStyle:{"text-align":"center"}},[t._m(4),s("div",[s("strong",[t._v(t._s(this.bussiness.yucenum))]),s("br"),s("span",[t._v("预测外呼坐席总数")])])])])]),s("div",{staticClass:"business-right-bottom"},[s("div",{staticClass:"business-right-bottom-top",staticStyle:{display:"flex","justify-content":"space-between"}},[t._m(5),s("p",[s("span",[t._v("当前超级企业为启用状态"),s("el-button",{attrs:{type:"text"},on:{click:t.UpDatabuss}},[t._v("停用超级企业")]),t._v(" ")],1)])]),s("div",{staticClass:"business-right-bottom-bottom"},[s("div",{staticClass:"foot-box-left"},[s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("超级企业名称: "),s("span",{staticClass:"foot-span"},[t._v(t._s(this.bussiness.adminname))])]),s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("企业域名: "),s("span",{staticClass:"foot-span"},[t._v(t._s(this.bussiness.ipstr))])]),s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("超级管理员账号: "),s("span",{staticClass:"foot-span"},[t._v(t._s(this.bussiness.adminname))])]),s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("邮箱: "),s("span",{staticClass:"foot-span"},[t._v(t._s(this.bussiness.adminemil))])])]),s("div",{staticClass:"foot-box-right"},[s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("超级企业id: "),s("span",{staticClass:"foot-span"},[t._v(t._s(this.bussiness.id))])]),s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("最大坐席数: "),s("span",{staticClass:"foot-span"},[t._v(t._s(this.bussiness.maxnum))])]),s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("最大登录总并发数: "),s("span",{staticClass:"foot-span"},[t._v(t._s(this.bussiness.maxconcurrency))])]),s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("创建时间: "),s("span",{staticClass:"foot-span"},[t._v(t._s(t.timestampToDate(this.bussiness.create_time)))])])])])])]):s("div",[s("div",{staticClass:"else-top"},[t._m(6),s("p",[s("span",[t._v("当前超级企业为停用状态"),s("el-button",{attrs:{type:"text"},on:{click:t.UpDatabuss}},[t._v("停用超级企业")]),t._v(" ")],1)])]),s("div",{staticClass:"else-center"},[t._m(7),s("div",[s("h1",[t._v(t._s(this.bussiness.maxnum))]),s("p",[t._v("最大坐席数")])]),s("div",[s("h1",[t._v(t._s(this.bussiness.maxconcurrency))]),s("p",[t._v("最大登录并发数")])]),t._m(8),t._m(9)]),s("el-tabs",{on:{"tab-click":t.abc},model:{value:t.activeName,callback:function(s){t.activeName=s},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"用户管理",name:"first"}}),s("el-tab-pane",{attrs:{label:"配置管理",name:"second"}},[t._v("配置管理")]),s("el-tab-pane",{attrs:{label:"角色管理",name:"third"}},[t._v("角色管理")]),s("el-tab-pane",{attrs:{label:"互转计费配置",name:"fourth"}})],1),s("div",{staticClass:"else-bottom"},[s(t.components[t.activeName],{tag:"component",attrs:{someProp:t.passedData}})],1)],1)])])},a=[function(){var t=this,s=t._self._c;return s("div",{},[s("i",{staticClass:"el-icon-office-building",staticStyle:{"font-size":"35PX","background-color":"rgb(93,172,255)","border-radius":"50%",padding:"10px",color:"rgb(255, 255, 255)"}})])},function(){var t=this,s=t._self._c;return s("div",[s("i",{staticClass:"el-icon-service",staticStyle:{"font-size":"35PX","background-color":"rgb(255,171,45)","border-radius":"50%",padding:"10px",color:"rgb(255, 255, 255)"}})])},function(){var t=this,s=t._self._c;return s("div",[s("i",{staticClass:"el-icon-warning-outline",staticStyle:{"font-size":"35PX","background-color":"rgb(80,223,195)","border-radius":"50%",padding:"10px",color:"rgb(255, 255, 255)"}})])},function(){var t=this,s=t._self._c;return s("div",[s("i",{staticClass:"el-icon-document-copy",staticStyle:{"font-size":"35PX","background-color":"rgb(131,232,172)","border-radius":"50%",padding:"10px",color:"rgb(255, 255, 255)"}})])},function(){var t=this,s=t._self._c;return s("div",[s("i",{staticClass:"el-icon-phone-outline",staticStyle:{"font-size":"35PX","background-color":"rgb(254,212,98)","border-radius":"50%",padding:"10px",color:"rgb(255, 255, 255)"}})])},function(){var t=this,s=t._self._c;return s("span",{staticStyle:{"line-height":"40px"}},[t._v(" 超级企业信息 "),s("i",{staticClass:"el-icon-edit"})])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"el-dropdown-link",staticStyle:{display:"inline-block","margin-left":"30px",padding:"5px","text-align":"center",width:"200px",height:"25px","background-color":"rgb(233, 243, 251)"}},[t._v(" 客户测"),s("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{"margin-left":"30px"}})])},function(){var t=this,s=t._self._c;return s("div",[s("h1",[t._v("签单")]),s("p",[t._v("企业类型")])])},function(){var t=this,s=t._self._c;return s("div",[s("h1",[t._v("停用")]),s("p",[t._v("api功能")])])},function(){var t=this,s=t._self._c;return s("div",[s("h1",[t._v("启用")]),s("p",[t._v("录音")])])}],n=e(2525),o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"business-right-bottom"},[t._m(0),s("div",{staticClass:"business-right-bottom-bottom"},[s("div",{staticClass:"foot-box-left"},[s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("子企业名称: "+t._s(t.someProp.ename)),s("span",{staticClass:"foot-span"})]),t._m(1),t._m(2)]),s("div",{staticClass:"foot-box-right"},[s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("最大坐席数: "),s("span",{staticClass:"foot-span"},[t._v(t._s(t.someProp.maxnum))])]),s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("最大登录总并发数: "),s("span",{staticClass:"foot-span"},[t._v(" "+t._s(t.someProp.maxconcurrency))])]),t._m(3)])])])},r=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"business-right-bottom-top"},[s("p",{staticStyle:{height:"40px"}},[t._v(" 子企业基本信息  "),s("i",{staticClass:"el-icon-edit",staticStyle:{color:"#91A1A9"}})])])},function(){var t=this,s=t._self._c;return s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("企业类型: "),s("span",{staticClass:"foot-span"},[t._v("签单")])])},function(){var t=this,s=t._self._c;return s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("截止日期: "),s("span",{staticClass:"foot-span"},[t._v("—")])])},function(){var t=this,s=t._self._c;return s("p",{staticClass:"foot-p"},[s("span",{staticStyle:{color:"#F56C6C","margin-right":"2px"}},[t._v("*")]),t._v("创建时间: "),s("span",{staticClass:"foot-span"})])}],l={props:{someProp:{type:Object,default:()=>({})}},watch:{someProp:{deep:!0,handler(t){console.log("接收到的参数更新:",t)}}},computed:{}},c=l,u=e(1656),m=(0,u.A)(c,o,r,!1,null,"53cdbdaa",null),p=m.exports,d=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"business-right-bottom-top"},[t._m(0),s("el-switch",{attrs:{"active-text":"按月付费","inactive-text":"按年付费"},model:{value:t.value1,callback:function(s){t.value1=s},expression:"value1"}})],1),s("div",{staticClass:"business-right-bottom-top"},[t._m(1),s("el-switch",{attrs:{"active-text":"按月付费","inactive-text":"按年付费"},model:{value:t.value2,callback:function(s){t.value2=s},expression:"value2"}})],1)])},v=[function(){var t=this,s=t._self._c;return s("p",{staticStyle:{height:"40px"}},[t._v(" 子企业互传配置  "),s("i",{staticClass:"el-icon-edit",staticStyle:{color:"#91A1A9"}})])},function(){var t=this,s=t._self._c;return s("p",{staticStyle:{height:"40px"}},[t._v(" 乎特殊配置  "),s("i",{staticClass:"el-icon-edit",staticStyle:{color:"#91A1A9"}})])}],b={data(){return{value1:!0,value2:!0}}},f=b,h=(0,u.A)(f,d,v,!1,null,"641ccb58",null),_=h.exports,g={data(){return{passedData:{},components:{first:p,fourth:_},radioSelected:"top",boxshow:!0,bussiness:{},arr:[],input:"",activeIndex:"1",dialogVisible:!1,tabPosition:"left",activeName:"first",form:{ename:"",ipstr:"",adminname:"",adminemil:"",maxnum:"",maxconcurrency:""},rules:{ename:[{required:!0,message:"企业名称不能为空",trigger:"blur"}],ipstr:[{required:!0,message:"ip域名不能为空",trigger:"blur"}],adminname:[{required:!0,message:"超级管理员账号不能为空",trigger:"blur"}],adminemil:[{required:!0,message:"邮箱不能为空",trigger:"blur"}],maxnum:[{required:!0,message:"最大坐席数不能为空",trigger:"blur"}],maxconcurrency:[{required:!0,message:"最大登录并发总数不能为空",trigger:"blur"}]}}},methods:{abc(t){switch(this.activeName=t.name,t.name){case"first":this.passedData={ename:this.bussiness.ename,maxnum:this.bussiness.maxnum,maxconcurrency:this.bussiness.maxconcurrency,create_time:this.bussiness.create_time},this.$nextTick((()=>{console.log(this.passedData)}));break;case"fourth":this.currentPageParams={otherKey:"otherValue"};break}},toggleBoxShow(t){this.boxshow="top"===t},resetForm(){this.$refs.dataForm&&this.$refs.dataForm.resetFields(),this.form={ename:"",ipstr:"",adminname:"",adminemil:"",maxnum:"",maxconcurrency:""}},AddBussiness(t){(0,n.FW)(t).then((t=>{console.log(t)}))},submitForm(){this.$refs["dataForm"].validate((t=>{if(!t)return console.log("error submit!!"),!1;this.AddBussiness(this.form),alert("提交成功！"),this.dialogVisible=!1,this.Getbussiness(),this.resetForm()}))},handleClick(){this.dialogVisible=!0},handleSelect(t){(0,n.lV)(t).then((t=>{this.bussiness=t.data}))},Getbussiness(){(0,n.M3)().then((t=>{this.arr=[...t.data],this.bussiness=t.data[0],this.$forceUpdate()}))},timestampToDate(t){t*=1e3;var s=new Date(t),e=s.getFullYear(),i=("0"+(s.getMonth()+1)).slice(-2),a=("0"+s.getDate()).slice(-2),n=("0"+s.getHours()).slice(-2),o=("0"+s.getMinutes()).slice(-2),r=("0"+s.getSeconds()).slice(-2);return e+"-"+i+"-"+a+" "+n+":"+o+":"+r},UpDatabuss(){this.$confirm("停用超级企业,其子企业也全部停用!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((()=>{console.log(this.bussiness.id,this.bussiness.status),(0,n.fm)(this.bussiness.id,this.bussiness.status).then((t=>{console.log(t)})),this.$message({type:"success",message:"停用成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}},mounted(){this.Getbussiness(),this.timestampToDate()},created(){}},x=g,C=(0,u.A)(x,i,a,!1,null,"effd493c",null),y=C.exports}}]);
//# sourceMappingURL=179.cf02e36a.js.map